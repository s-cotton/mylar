<%inherit file="base.html" />
<%!
        from mylar import db
        import mylar
%>

<%def name="headerIncludes()">
    <div class="btn-group" role="group" aria-label="Manage Actions">
        <a class="btn btn-default" href="manage">
            <span class="glyphicon glyphicon-menu-left"></span>&nbsp;Back to Manage Overview
        </a>
    </div>
</%def>


<%def name="body()">
    <% 
    import simplejson as json
    json_output = json.dumps( comics ) 
    %>
    
    <script type="text/javascript">
        var initialData = initialData || {};
        initialData.comics = ${json_output}
    </script>
    
    


    <form action="markComics" method="get" id="markComics">
        <div class="row">
            <div class="col-xs-12">
                <h1>Manage Comics</h1>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-6">
                <div class="btn-group" role="group">
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Mark Selected Comics
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu">
                        <li><a href="#">Delete Series</a></li>
                        <li><a href="#">MetaTag Series</a></li>
                        <li><a href="#">Pause Series</a></li>
                        <li><a href="#">Recheck Files</a></li>
                        <li><a href="#">Refresh Series</a></li>
                        <li><a href="#">Resume Series</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-xs-12 col-sm-6">
                <div class="btn-group pull-right" data-toggle-name="list_view" data-toggle="buttons-radio">
                    <button type="button" value="0" class="btn" data-toggle="button">
                        <span class="glyphicon glyphicon-list"></span>
                    </button>
                    <button type="button" value="1" class="btn" data-toggle="button">
                        <span class="glyphicon glyphicon-th-large"></span>
                    </button>
                </div>
                <input type="hidden" name="list_view" value="0" />
            </div>
            <div class="col-xs-12">&nbsp;</div>
        </div>
        <div class="item-view-container">
            <div class="table-view hidden">
                <div class="row">
                    <div class="col-xs-12">
                        <table class="table table-striped table-bordered table-sorted" id="bsComicsTable">
                            <thead>
                                <tr>
                                    <th id="select" class="filter-false">
                                        <input type="checkbox" onClick="toggle(this)" />
                                    </th>
                                    <th id="albumart"></th>
                                    <th id="name">Comic Name</th>
                                    <th id="status">Status</th>
                                    <th id="stat_icon"></th>
                                    <th id="latest">Latest Issue</th>
                                    <th id="publisher">Publisher</th>
                                    <th id="have">Have</th>
                                    <th id="lastupdated">Updated</th>
                                </tr>
                            </thead>
                            <tbody>
                                
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="block-view">
                <div class="row">
                    <div class="cover-browser col-xs-12">
                        
                    </div>
                </div>
            </div>
        </div>
        
    </form>
	
	<form action="markComics" method="get" id="markComics">
        <div id="markcomics" style="top:0;">
		<select name="action" onChange="doAjaxCall('markComics',$(this),'table',true);" data-error="You didn't select any comics">
  			<option disabled="disabled" selected="selected">Choose...</option>
  			<option value="delete">Delete Series</option>
            <option value="metatag">MetaTag Series</option>
            <option value="pause">Pause Series</option>
  			<option value="recheck">Recheck Files</option>
  			<option value="refresh">Refresh Series</option>
  			<option value="resume">Resume Series</option>
		</select>
		selected comics
		<input type="hidden" value="Go">
	</div>

	</form>
</%def>

<%def name="headIncludes()">
	<!--<link rel="stylesheet" href="interfaces/default/css/data_table.css">-->
</%def>

<%def name="javascriptIncludes()">
    <script type="text/javascript" src="interfaces/bootstrap/js/views/managecomics.js"></script>
	<!--<script src="js/libs/jquery.dataTables.min.js"></script><-->
	<script>
        /*function initThisPage() {
                $('#manage_comic').dataTable(
                        {
                                "bDestroy": true,
                                "aoColumnDefs": [
                                  { 'bSortable': false, 'aTargets': [ 0, 1 ] }
                                ],
                                "aLengthMenu": [[10, 25, 50, -1], [10, 25, 50, 'All' ]],
                                "oLanguage": {
                                        "sLengthMenu":"Show _MENU_ results per page",
                                        "sEmptyTable": "No results",
                                        "sInfo":"Showing _START_ to _END_ of _TOTAL_ results",
                                        "sInfoEmpty":"Showing 0 to 0 of 0 results",
                                        "sInfoFiltered":"(filtered from _MAX_ total results)",
                                        "sSearch" : ""},
                                "bStateSave": true,
                                "iDisplayLength": 25,
                                "sPaginationType": "full_numbers",
                                "aaSorting": [[2, 'desc'],[3, 'desc']]
                        });
                        resetFilters("comic");
        }

        $(document).ready(function(){
                initThisPage();
        });
        $(window).load(function(){
                initFancybox();
        });*/
        </script>

</%def>
